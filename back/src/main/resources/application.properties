# ===============================================
# spring
# ===============================================
spring.application.name=OrakgarakiApplication
server.port=8080
server.servlet.context-path=/api

# ===============================================
# mysql
# ===============================================
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.initialization-fail-timeout=60000
spring.datasource.hikari.validation-timeout=5000

# ===============================================
# JPA
# ===============================================
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ===============================================
# JWT
# ===============================================
jwt.secret=${JWT_SECRET:orakgaraki-super-secret-key-for-jwt-tokens}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}

# ===============================================
# OAuth2
# ===============================================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/api/login/oauth2/code/google}

# OAuth2
app.oauth2.redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:5173/login/success}

# ===============================================
# AWS S3
# ===============================================
spring.cloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID:your-access-key}                                  
spring.cloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY:your-secret-key}   
spring.cloud.aws.region.static=${AWS_REGION:ap-northeast-2}
spring.cloud.aws.s3.bucket=${AWS_S3_BUCKET:orakgaraki-bucket}

# ===============================================
# upload maxi
# ===============================================
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=0
s3.upload.path=${ORAK_UPLOAD_PATH:${java.io.tmpdir}/orak-upload}
spring.servlet.multipart.location=${s3.upload.path}

# ===============================================
# logging
# ===============================================
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.com.ssafy.lab.orak=INFO

# ===============================================
# Swagger/OpenAPI
# ===============================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.config-url=/api/api-docs/swagger-config
springdoc.swagger-ui.url=/api/api-docs
# ===============================================
# Jackson JSON
# ===============================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Seoul
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ===============================================
# active profile
# ===============================================
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# ===============================================
# health check
# ===============================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.info.env.enabled=true

# ===============================================
# error handler
# ===============================================
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false
