# ===============================================
# 테스트 환경 설정
# ===============================================

# ===============================================
# H2 메모리 데이터베이스 설정 (테스트용)
# ===============================================
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL;NON_KEYWORDS=KEY,VALUE
spring.datasource.username=${DB_USERNAME_TEST:sa}
spring.datasource.password=${DB_PASSWORD_TEST:}

# ===============================================
# JPA 설정 (H2 - 테스트)
# ===============================================
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always

# ===============================================
# 로깅 설정 (테스트 - 콘솔 로그만)
# ===============================================
logging.config=classpath:log4j2-test.xml

# ===============================================
# JWT 테스트용 설정
# ===============================================
jwt.secret=test-jwt-secret-key-for-testing-only-12345678901234567890
jwt.expiration=3600000
jwt.refresh-expiration=7200000

# ===============================================
# 캐시/세션 비활성화 (테스트)
# ===============================================
spring.cache.type=none
spring.session.store-type=none

# ===============================================
# CORS 설정 (테스트용)
# ===============================================
spring.web.cors.allowed-origins=*

# ===============================================
# OAuth2 비활성화 (테스트)
# ===============================================
spring.security.oauth2.client.registration.google.client-id=test-client-id
spring.security.oauth2.client.registration.google.client-secret=test-client-secret

# ===============================================
# AWS S3 테스트용 설정
# ===============================================
spring.cloud.aws.credentials.access-key=test-access-key
spring.cloud.aws.credentials.secret-key=test-secret-key
spring.cloud.aws.s3.bucket=test-bucket

# ===============================================
# 액추에이터 테스트용 설정
# ===============================================
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# ===============================================
# Swagger 비활성화 (테스트)
# ===============================================
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false