!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(3),a=n(5),s=n(7),c=n(12),h=function(t){function e(){var e=this,n={width:Number(1080),height:Number(768),renderer:o.CANVAS,parent:"game",state:null,canvas:document.createElement("canvas")};return n.canvas.setAttribute("willReadFrequently","true"),e=t.call(this,n.width,n.height,o.CANVAS,"game",null)||this,e.state.add("Boot",r.BootState,!1),e.state.add("Splash",a.SplashState,!1),e.state.add("Game",s.GameState,!1),e.state.add("GameOver",c.GameOverState,!1),e.state.start("Boot"),e}return i(e,t),e}(o.Game);new h},function(t,e){t.exports=Phaser},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fontsReady=!1,e}return i(e,t),e.prototype.init=function(){this.stage.backgroundColor="#ffffff"},e.prototype.preload=function(){var t=this;r.load({google:{families:["Nunito"]},active:function(){return t.fontsLoaded()}});var e=this.add.text(this.world.centerX,this.world.centerY,"loading fonts",{font:"16px Arial",fill:"#dddddd",align:"center"});e.anchor.setTo(.5,.5),this.load.image("loaderBg","./assets/images/loader-bg.png"),this.load.image("loaderBar","./assets/images/loader-bar.png")},e.prototype.render=function(){this.fontsReady&&this.game.state.start("Splash")},e.prototype.fontsLoaded=function(){this.fontsReady=!0},e}(o.State);e.BootState=a},function(t,e,n){var i;!function(){function o(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r,a.apply(null,arguments)}function s(t,e){this.a=t,this.o=e||t,this.c=this.o.document}function c(t,e,n,i){if(e=t.c.createElement(e),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return i&&e.appendChild(t.c.createTextNode(i)),e}function h(t,e,n){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,a=0;a<i.length;a+=1)if(e[o]===i[a]){r=!0;break}r||i.push(e[o])}for(e=[],o=0;o<i.length;o+=1){for(r=!1,a=0;a<n.length;a+=1)if(i[o]===n[a]){r=!0;break}r||e.push(i[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var n=t.className.split(/\s+/),i=0,o=n.length;i<o;i++)if(n[i]==e)return!0;return!1}function p(t){return t.o.location.hostname||t.a.location.hostname}function d(t,e,n){function i(){s&&o&&r&&(s(a),s=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var o=!1,r=!0,a=null,s=n||null;rt?(e.onload=function(){o=!0,i()},e.onerror=function(){o=!0,a=Error("Stylesheet failed to load"),i()}):setTimeout(function(){o=!0,i()},0),h(t,"head",e)}function y(t,e,n,i){var o=t.c.getElementsByTagName("head")[0];if(o){var r=c(t,"script",{src:e}),a=!1;return r.onload=r.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},i||5e3),r}return null}function g(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,q(t)}}function v(t,e){t.c=e,q(t)}function q(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function A(t){return S(t)+" "+(t.f+"00")+" 300px "+x(t.c)}function x(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function _(t){return t.a+t.f}function S(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function D(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function C(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function M(t){t.g&&f(t.f,[t.a.c("wf","loading")]),k(t,"loading")}function P(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}k(t,"inactive")}function k(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,_(n)):t.h[e]())}function O(){this.c={}}function F(t,e,n){var i,o=[];for(i in e)if(e.hasOwnProperty(i)){var r=t.c[i];r&&o.push(r(e[i],n))}return o}function N(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function E(t){h(t.c,"body",t.a)}function G(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";"+("font-style:"+S(t)+";font-weight:"+(t.f+"00")+";")}function T(t,e,n,i,o,r){this.g=t,this.j=e,this.a=i,this.c=n,this.f=o||3e3,this.h=r||void 0}function B(t,e,n,i,o,r,a){this.v=t,this.B=e,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),t=new w(this.a.c+",serif",_(this.a)),t=G(t),this.g.a.style.cssText=t,t=new w(this.a.c+",sans-serif",_(this.a)),t=G(t),this.h.a.style.cssText=t,t=new w("serif",_(this.a)),t=G(t),this.j.a.style.cssText=t,t=new w("sans-serif",_(this.a)),t=G(t),this.m.a.style.cssText=t,E(this.g),E(this.h),E(this.j),E(this.m)}function j(){if(null===st){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);st=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return st}function I(t,e,n){for(var i in at)if(at.hasOwnProperty(i)&&e===t.f[at[i]]&&n===t.f[at[i]])return!0;return!1}function R(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=j()&&I(t,n,i)),e?ot()-t.A>=t.w?j()&&I(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?W(t,t.v):W(t,t.B):U(t):W(t,t.v)}function U(t){setTimeout(a(function(){R(this)},t),50)}function W(t,e){setTimeout(a(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),e(this.a)},t),0)}function Y(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}function z(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),k(t,"active")):P(t.a))}function L(t){this.j=t,this.a=new O,this.h=0,this.f=this.g=!0}function K(t,e,n,i,o){var r=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,s=i||null||{};if(0===n.length&&r)P(e.a);else{e.f+=n.length,r&&(e.j=r);var c,h=[];for(c=0;c<n.length;c++){var u=n[c],l=s[u.c],p=e.a,d=u;if(p.g&&f(p.f,[p.a.c("wf",d.c,_(d).toString(),"loading")]),k(p,"fontloading",d),p=null,null===ct)if(window.FontFace){var d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ct=d?42<parseInt(d[1],10):!y}else ct=!1;p=ct?new T(a(e.g,e),a(e.h,e),e.c,u,e.s,l):new B(a(e.g,e),a(e.h,e),e.c,u,e.s,t,l),h.push(p)}for(c=0;c<h.length;c++)h[c].start()}},0)}function X(t,e,n){var i=[],o=n.timeout;M(e);var i=F(t.a,n,t.c),r=new Y(t.c,e,o);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){K(t,r,e,n,i)})}function H(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t,this.a=e}function V(t,e){t?this.c=t:this.c=ht,this.a=[],this.f=[],this.g=e||""}function $(t,e){for(var n=e.length,i=0;i<n;i++){var o=e[i].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}function J(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Z(t){this.f=t,this.a=[],this.c={}}function tt(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),o=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var a,s=i[1];if(a=[],s)for(var s=s.split(","),c=s.length,h=0;h<c;h++){var u;if(u=s[h],u.match(/^[\w-]+$/)){var f=pt.exec(u.toLowerCase());if(null==f)u="";else{if(u=f[2],u=null==u||""==u?"n":lt[u],f=f[1],null==f||""==f)f="4";else var l=ft[f],f=l?l:isNaN(f)?"4":f.substr(0,1);u=[u,f].join("")}}else u="";u&&a.push(u)}0<a.length&&(r=a),3==i.length&&(i=i[2],a=[],i=i?i.split(","):a,0<i.length&&(i=ut[i[0]])&&(t.c[o]=i))}for(t.c[o]||(i=ut[o])&&(t.c[o]=i),i=0;i<r.length;i+=1)t.a.push(new w(o,r[i]))}}function et(t,e){this.c=t,this.a=e}function nt(t,e){this.c=t,this.a=e}function it(t,e){this.c=t,this.f=e,this.a=[]}var ot=Date.now||function(){return+new Date},rt=!!window.FontFace;b.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},T.prototype.start=function(){var t=this.c.o.document,e=this,n=ot(),i=new Promise(function(i,o){function r(){ot()-n>=e.f?o():t.fonts.load(A(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(r,25)},function(){o()})}r()}),o=null,r=new Promise(function(t,n){o=setTimeout(n,e.f)});Promise.race([r,i]).then(function(){o&&(clearTimeout(o),o=null),e.g(e.a)},function(){e.j(e.a)})};var at={D:"serif",C:"sans-serif"},st=null;B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=ot(),R(this)};var ct=null;Y.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,_(t).toString(),"active")],[e.a.c("wf",t.c,_(t).toString(),"loading"),e.a.c("wf",t.c,_(t).toString(),"inactive")]),k(e,"fontactive",t),this.m=!0,z(this)},Y.prototype.h=function(t){var e=this.a;if(e.g){var n=l(e.f,e.a.c("wf",t.c,_(t).toString(),"active")),i=[],o=[e.a.c("wf",t.c,_(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,_(t).toString(),"inactive")),f(e.f,i,o)}k(e,"fontinactive",t),z(this)},L.prototype.load=function(t){this.c=new s(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,X(this,new C(this.c,t),t)},H.prototype.load=function(t){function e(){if(r["__mti_fntLst"+i]){var n,o=r["__mti_fntLst"+i](),a=[];if(o)for(var s=0;s<o.length;s++){var c=o[s].fontfamily;void 0!=o[s].fontStyle&&void 0!=o[s].fontWeight?(n=o[s].fontStyle+o[s].fontWeight,a.push(new w(c,n))):a.push(new w(c))}t(a)}else setTimeout(function(){e()},50)}var n=this,i=n.a.projectId,o=n.a.version;if(i){var r=n.c.o;y(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(o?"?v="+o:""),function(o){o?t([]):(r["__MonotypeConfiguration__"+i]=function(){return n.a},e())}).id="__MonotypeAPIScript__"+i}else t([])},Q.prototype.load=function(t){var e,n,i=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},a=new g;for(e=0,n=i.length;e<n;e++)d(this.c,i[e],m(a));var s=[];for(e=0,n=o.length;e<n;e++)if(i=o[e].split(":"),i[1])for(var c=i[1].split(","),h=0;h<c.length;h+=1)s.push(new w(i[0],c[h]));else s.push(new w(i[0]));v(a,function(){t(s,r)})};var ht="https://fonts.googleapis.com/css",ut={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ft={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},lt={i:"i",italic:"i",n:"n",normal:"n"},pt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,dt={Arimo:!0,Cousine:!0,Tinos:!0};et.prototype.load=function(t){var e=new g,n=this.c,i=new V(this.a.api,this.a.text),o=this.a.families;$(i,o);var r=new Z(o);tt(r),d(n,J(i),m(e)),v(e,function(){t(r.a,r.c,dt)})},nt.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],o=0;o<e.length;o+=2)for(var r=e[o],a=e[o+1],s=0;s<a.length;s++)i.push(new w(r,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},it.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var o=0,r=n.fonts.length;o<r;++o){var a=n.fonts[o];i.a.push(new w(a.name,D("font-weight:"+a.weight+";font-style:"+a.style)))}t(i.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+p(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var yt=new L(window);yt.a.c.custom=function(t,e){return new Q(e,t)},yt.a.c.fontdeck=function(t,e){return new it(e,t)},yt.a.c.monotype=function(t,e){return new H(e,t)},yt.a.c.typekit=function(t,e){return new nt(e,t)},yt.a.c.google=function(t,e){return new et(e,t)};var gt={load:a(yt.load,yt)};i=function(){return gt}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}()},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(6),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.preload=function(){this.loaderBg=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBg"),this.loaderBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBar"),r.centerGameObjects([this.loaderBg,this.loaderBar]),this.load.setPreloadSprite(this.loaderBar),this.load.image("sky","assets/images/background/sky.png"),this.load.image("background","assets/images/background/background.png"),this.load.image("foreground","assets/images/background/foreground.png"),this.load.image("fighter","assets/images/fighter/topdownfighter.png"),this.load.image("fighter2","assets/images/fighter/topdownfighter_normal.png"),this.load.image("plasma","assets/images/ring.png"),this.load.image("obstacle","assets/images/ring2.png"),this.load.image("forward","assets/images/forward.png"),this.load.image("backward","assets/images/backward.png")},e.prototype.create=function(){this.game.state.start("Game")},e}(o.State);e.SplashState=a},function(t,e){"use strict";function n(t){return t<.5?2*t*t:-1+(4-2*t)*t}Object.defineProperty(e,"__esModule",{value:!0}),e.centerGameObjects=function(t){t.forEach(function(t){t.anchor.setTo(.5)})},e.setResponsiveWidth=function(t,e,n){var i=100*(t.texture.width-n.width/(100/e))/t.texture.width;t.width=n.width/(100/e),t.height=t.texture.height-t.texture.height*i/100},e.easeInOutQuart=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(8),a=n(9),s=n(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pitchScores={},e.scoreTexts=[],e}return i(e,t),e.prototype.create=function(){this.pitchDetect=new a.PitchDetect,this.game.physics.startSystem(o.Physics.ARCADE),this.initializeMicrophone(),this.background={sky:new s.Sky({game:this.game}),background:new s.Background({game:this.game}),foreground:new s.Foreground({game:this.game})},this.game.add.existing(this.background.sky),this.game.add.existing(this.background.background),this.game.add.existing(this.background.foreground),this.plasmas=this.game.add.group(),this.plasmas.createMultiple(100,"plasma"),this.plasmas.setAll("anchor.x",.5),this.plasmas.setAll("anchor.y",.5),this.plasmas.setAll("outOfBoundsKill",!0),this.plasmas.setAll("checkWorldBounds",!0),this.game.physics.enable(this.plasmas,o.Physics.ARCADE),this.obstacles=this.game.add.group(),this.obstacles.createMultiple(20,"obstacle"),this.obstacles.setAll("anchor.x",.2),this.obstacles.setAll("anchor.y",.2),this.obstacles.setAll("outOfBoundsKill",!0),this.obstacles.setAll("checkWorldBounds",!0),this.game.physics.enable(this.obstacles,o.Physics.ARCADE),this.fighter=new r.Fighter({game:this.game,x:120,y:Number(768)/2,name:"Pilot",asset:"fighter",tx:50,ty:50}),this.game.add.existing(this.fighter),this.game.physics.enable(this.fighter,o.Physics.ARCADE),this.fighter.checkWorldBounds=!0,this.fighter.body.collideWorldBounds=!0,this.fighter.body.bounce.setTo(.3,.3),this.createMicrophoneInstructions(),this.createScoreDisplayBox()},e.prototype.update=function(){try{if(this.pitchDetect&&this.pitchDetect.pitchDetectionActive&&this.pitchDetect.lastGoodNote&&this.fighter&&this.fighter.alive){var t=this.pitchDetect.getY(Number(768)),e=400,n=15,i=t-this.fighter.y;if(Math.abs(i)>n){var o=Math.min(Math.abs(i)/100,1),r=e*o;i>0?(this.fighter.body.velocity.y=r,this.fighter.angle=Math.min(20*o,20)):(this.fighter.body.velocity.y=-r,this.fighter.angle=Math.max(20*-o,-20))}else this.fighter.body.velocity.y*=.8,this.fighter.angle*=.9,Math.abs(this.fighter.body.velocity.y)<5&&(this.fighter.body.velocity.y=0),Math.abs(this.fighter.angle)<1&&(this.fighter.angle=0);this.fighter.updatePitchInfo(this.pitchDetect.lastGoodNote.note,t)}else if(this.pitchDetect&&this.pitchDetect.pitchDetectionActive&&this.fighter&&this.fighter.alive)this.fighter.body.velocity.y*=.95,this.fighter.angle*=.95,Math.abs(this.fighter.body.velocity.y)<2&&(this.fighter.body.velocity.y=0),Math.abs(this.fighter.angle)<.5&&(this.fighter.angle=0),this.fighter.updatePitchInfo("피치 감지 중...",this.fighter.y);else{var a=Number(768)/2,e=200,n=40,i=a-this.fighter.y;if(Math.abs(i)>n){var o=Math.min(Math.abs(i)/150,1),r=e*o;i>0?(this.fighter.body.velocity.y=r,this.fighter.angle=Math.min(15*o,15)):(this.fighter.body.velocity.y=-r,this.fighter.angle=Math.max(15*-o,-15))}else this.fighter.body.velocity.y*=.7,this.fighter.angle*=.8,Math.abs(this.fighter.body.velocity.y)<3&&(this.fighter.body.velocity.y=0),Math.abs(this.fighter.angle)<.5&&(this.fighter.angle=0);this.fighter.updatePitchInfo("No Pitch",a)}}catch(t){console.warn("Game update error:",t)}try{Math.random()<.04?this.createPlasma():Math.random()<.1&&this.createObstacle()}catch(t){console.warn("Item creation error:",t)}this.game.physics.arcade.overlap(this.fighter,this.plasmas,this.plasmaCollision,null,this),this.game.physics.arcade.overlap(this.fighter,this.obstacles,this.obstacleCollision,null,this)},e.prototype.createPlasma=function(){try{var t=this.plasmas.getFirstExists(!1);if(t){t.destY=null;var e=this.getRandomPitchInfo();t.reset(Number(1080)+t.width/2-1,e.y),t.scale.setTo(.15),t.pitchInfo=e.pitch,t.pitchName=e.pitchName,t.pulseTime=0,t.baseScale=.15,t.update=function(){if(t&&t.alive){t.pulseTime+=.1;var e=t.baseScale+.05*Math.sin(t.pulseTime);t.scale.setTo(e),t.x-=2,t.y+=1*(Math.random()-.5)}}}}catch(t){console.warn("Plasma creation error:",t)}},e.prototype.createObstacle=function(){try{var t=this.obstacles.getFirstExists(!1);if(console.log("Creating obstacle, available:",!!t,"total obstacles:",this.obstacles.children.length),t){t.destY=null;var e=Number(1080)+50,n=Math.random()*Number(768);console.log("Resetting obstacle to:",e,n),t.reset(e,n),t.scale.setTo(.3),t.update=function(){t&&t.alive&&(t.angle+=3,t.x-=1,Math.random()<.001&&console.log("Obstacle alive at:",t.x,t.y,"alive:",t.alive))}}}catch(t){console.warn("Obstacle creation error:",t)}},e.prototype.plasmaCollision=function(t,e){t.score+=1e3,t.updateText(),e.pitchName&&this.addPitchScore(e.pitchName,1e3),e.kill()},e.prototype.obstacleCollision=function(t,e){t.hitpoints-=50,t.hitpoints<=0?(console.log("Game Over! Player died."),this.game.state.start("GameOver")):(t.alpha=t.hitpoints/100,e.kill()),t.updateText()},e.prototype.initializeMicrophone=function(){try{this.pitchDetect.turnOnMicrophone(),console.log("마이크 초기화 완료")}catch(t){console.warn("마이크 초기화 실패:",t),this.showMicrophoneError()}},e.prototype.showMicrophoneError=function(){var t=this.game.add.text(Number(1080)/2,200,"❌ 마이크 접근 실패\n\n브라우저에서 마이크 권한을 허용해주세요.\n페이지를 새로고침하고 다시 시도해주세요.",{font:"16px Arial",fill:"#ff0000",align:"center",stroke:"#000000",strokeThickness:2});t.anchor.setTo(.5,.5)},e.prototype.createMicrophoneInstructions=function(){var t=this,e=this.game.add.text(Number(1080)/2,100,"🎤 마이크로 음성을 내어 전투기를 조종하세요!\n\n낮은 음 → 아래로 이동\n높은 음 → 위로 이동\n\n마이크 권한을 허용해주세요.",{font:"18px Arial",fill:"#ffffff",align:"center",stroke:"#000000",strokeThickness:2});e.anchor.setTo(.5,.5),this.game.time.events.add(5e3,function(){t.game.add.tween(e).to({alpha:0},1e3,o.Easing.Linear.None,!0)})},e.prototype.createScoreDisplayBox=function(){this.scoreDisplayBox=this.game.add.graphics(0,0),this.updateScoreDisplay()},e.prototype.updateScoreDisplay=function(){var t=this;this.scoreTexts.forEach(function(t){return t.destroy()}),this.scoreTexts=[];var e=Object.keys(this.pitchScores).filter(function(e){return t.pitchScores[e]>0}).sort(function(e,n){var i=t.getPitchFrequency(e),o=t.getPitchFrequency(n);return o-i});if(0!==e.length){var n=200,i=Math.max(60,25*e.length+20),o=Number(1080)-n-20,r=20;this.scoreDisplayBox.clear(),this.scoreDisplayBox.beginFill(0,.7),this.scoreDisplayBox.lineStyle(2,16777215,1),this.scoreDisplayBox.drawRoundedRect(o,r,n,i,10),this.scoreDisplayBox.endFill();var a=this.game.add.text(o+n/2,r+10,"음역대별 점수",{font:"14px Arial",fill:"#ffff00",align:"center",stroke:"#000000",strokeThickness:1});a.anchor.setTo(.5,0),this.scoreTexts.push(a),e.forEach(function(e,n){var i=r+35+25*n,a=t.game.add.text(o+10,i,e+": "+t.pitchScores[e].toLocaleString()+"점",{font:"12px Arial",fill:"#ffffff",align:"left",stroke:"#000000",strokeThickness:1});t.scoreTexts.push(a)})}},e.prototype.getPitchFrequency=function(t){var e={C2:65.41,"C#2":69.3,D2:73.42,"D#2":77.78,E2:82.41,F2:87.31,"F#2":92.5,G2:98,"G#2":103.83,A2:110,"A#2":116.54,B2:123.47,C3:130.81,"C#3":138.59,D3:146.83,"D#3":155.56,E3:164.81,F3:174.61,"F#3":185,G3:196,"G#3":207.65,A3:220,"A#3":233.08,B3:246.94,C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88,C5:523.25,"C#5":554.37,D5:587.33,"D#5":622.25,E5:659.25,F5:698.46,"F#5":739.99,G5:783.99,"G#5":830.61,A5:880,"A#5":932.33,B5:987.77,C6:1046.5,"C#6":1108.73,D6:1174.66,"D#6":1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,G6:1567.98,"G#6":1661.22,A6:1760};return e[t]||0},e.prototype.addPitchScore=function(t,e){this.pitchScores[t]||(this.pitchScores[t]=0),this.pitchScores[t]+=e,this.updateScoreDisplay()},e.prototype.getRandomPitchInfo=function(){for(var t=Number(768),e=50,n=t-50,i=n-e,o=i/49,r=[],a=[2,3,4,5,6],s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],c=0,h=0,u=a;h<u.length;h++){for(var f=u[h],l=0,p=s;l<p.length;l++){var d=p[l];if(c>=50)break;var y=e+c*o,g=""+d+f;r.push({pitch:g,pitchName:g,y:y}),c++}if(c>=50)break}var m=Math.floor(Math.random()*r.length),v=r[m],q=(Math.random()-.5)*(.3*o);return{pitch:v.pitch,pitchName:v.pitchName,y:Math.max(e,Math.min(n,v.y+q))}},e.prototype.render=function(){},e}(o.State);e.GameState=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(6),a=function(t){function e(e){var n=e.game,i=e.x,o=e.y,r=e.name,a=e.asset,s=e.tx,c=e.ty,h=t.call(this,n,i,o,a)||this;return h.rotationSpeed=0,h.rotationDirection=0,h.score=0,h.hitpoints=100,h.name="",h.anchor.setTo(.5),h.scale.setTo(.12),h.name=r,h.text=h.game.add.text(s,c,h.name+"",{font:"20px Arial",fill:"#ff0044",align:"left"}),h.updateText(),h}return i(e,t),e.prototype.updateRotation=function(t){"up"===t?(this.rotationSpeed=Math.min(this.rotationSpeed+.1,1),this.angle=20*-r.easeInOutQuart(this.rotationSpeed)):"down"===t?(this.rotationSpeed=Math.min(this.rotationSpeed+.1,1),this.angle=20*r.easeInOutQuart(this.rotationSpeed)):this.rotationSpeed>0?(this.rotationSpeed=Math.max(this.rotationSpeed-.1,0),this.angle=this.angle>0?20*r.easeInOutQuart(this.rotationSpeed):20*-r.easeInOutQuart(this.rotationSpeed)):(this.rotationSpeed=0,this.angle=0)},e.prototype.updateText=function(){this.text.setText(this.name+"\nScore: "+this.score+"\nHP: "+this.hitpoints)},e.prototype.updatePitchInfo=function(t,e){if(this.text){var n="";n="No Pitch"===t?"🎤 마이크로 음성을 내세요":"🎵 "+t,this.text.setText(this.name+"\nScore: "+this.score+"\nHP: "+this.hitpoints+"\n"+n+"\nTarget: "+Math.round(e))}},e.prototype.update=function(){},e}(o.Sprite);e.Fighter=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=function(){function t(){this.baseFreq=440,this.isMicrophoneInUse=!1,this.isInitialized=!1,this.pitchDetectionActive=!1,this.isAudioContextSupported()?(this.audioContext=new AudioContext,this.notesArray=i[this.baseFreq.toString()],this.isInitialized=!0):console.warn("AudioContext is not supported in this browser")}return t.prototype.isAudioContextSupported=function(){return null!=window.AudioContext},t.prototype.isGetUserMediaSupported=function(){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,null!=navigator.mediaDevices&&null!=navigator.mediaDevices.getUserMedia||null!=navigator.getUserMedia},t.prototype.getY=function(t){var e=this.notesArray;if(this.lastGoodNote&&e){var n=e.indexOf(this.lastGoodNote);if(n!==-1){var i=n/(e.length-1),o=t-i*t;return o=Math.max(50,Math.min(t-50,o))}}return t/2},t.prototype.findFundamentalFreq=function(t,e){for(var n=Math.min(t.length-2e3,2048),i=-1,o=0,r=Math.floor(e/500),a=Math.floor(e/60),s=Math.max(8,r);s<=Math.min(a,n);s++){for(var c=0,h=0,u=0;u<n-s;u++){var f=(t[u]-128)/128,l=(t[u+s]-128)/128;c+=f*l,h++}if(h>0){var p=c/h;if(p>o&&(o=p,i=s),p>.7)break}}return o>.001&&i>0?e/i:-1},t.prototype.findClosestNote=function(t,e){for(var n=-1,i=e.length;i-n>1;){var o=Math.round((n+i)/2);e[o].frequency<=t?n=o:i=o}return Math.abs(e[i].frequency-t)<=Math.abs(e[n].frequency-t)?e[i]:e[n]},t.prototype.findCentsOffPitch=function(t,e){var n=.6931471805599453,i=t/e,o=Math.floor(1200*(Math.log(i)/n));return o},t.prototype.detectPitch=function(){try{if(!(this.analyserAudioNode&&this.notesArray&&this.audioContext&&this.pitchDetectionActive))return;var t=new Uint8Array(this.analyserAudioNode.fftSize);this.analyserAudioNode.getByteTimeDomainData(t);var e=this.calculateSignalStrength(t);if(e<.01)return void this.updateNote(null);var n=this.findFundamentalFreq(t,this.audioContext.sampleRate);if(n!==-1&&n>60&&n<500){var i=this.findClosestNote(n,this.notesArray);if(i)if(i.frequency>=64.22&&i.frequency<=446){this.updateNote(i);var o=this.findCentsOffPitch(n,i.frequency);this.updateCents(o)}else this.updateNote(null);else this.updateNote(null)}else this.updateNote(null)}catch(t){console.warn("Pitch detection error:",t),this.updateNote(null)}},t.prototype.calculateSignalStrength=function(t){for(var e=0,n=0;n<t.length;n++){var i=(t[n]-128)/128;e+=i*i}return Math.sqrt(e/t.length)},t.prototype.streamReceived=function(t){try{this.micStream=t,this.analyserAudioNode=this.audioContext.createAnalyser(),this.analyserAudioNode.fftSize=4096,this.analyserAudioNode.smoothingTimeConstant=.8,this.sourceAudioNode=this.audioContext.createMediaStreamSource(this.micStream),this.sourceAudioNode.connect(this.analyserAudioNode),this.pitchDetectionActive=!0,this.isMicrophoneInUse=!0,this.startPitchDetection(),console.log("마이크 스트림 연결 완료 - 피치 감지 시작")}catch(t){console.warn("Stream processing error:",t),this.pitchDetectionActive=!1}},t.prototype.startPitchDetection=function(){var t=this;if(this.pitchDetectionActive){var e=0,n=60,i=1e3/n,o=function(n){t.pitchDetectionActive&&(n-e>=i&&(t.detectPitch(),e=n),requestAnimationFrame(o))};requestAnimationFrame(o)}},t.prototype.turnOffMicrophone=function(){this.pitchDetectionActive=!1,this.sourceAudioNode&&(this.sourceAudioNode.mediaStream&&this.sourceAudioNode.mediaStream.getTracks().forEach(function(t){return t.stop()}),this.sourceAudioNode.disconnect(),this.sourceAudioNode=null),this.analyserAudioNode=null,this.updateNote(null),this.isMicrophoneInUse=!1,this.micStream=null,console.log("마이크 연결 해제 완료")},t.prototype.turnOnMicrophone=function(){var t=this;if(!this.isMicrophoneInUse&&this.isInitialized){if(!this.isGetUserMediaSupported())throw console.warn("이 브라우저는 마이크 기능을 지원하지 않습니다."),new Error("마이크 기능을 지원하지 않는 브라우저입니다.");var e={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100}},n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices):function(t){return new Promise(function(e,n){navigator.getUserMedia(t,e,n)})};n(e).then(this.streamReceived.bind(this)).catch(function(e){throw console.warn("마이크 접근 실패:",e),t.pitchDetectionActive=!1,e})}},t.prototype.changeBaseFreq=function(t){var e=this.baseFreq+t;e>=432&&e<=446&&(this.baseFreq=e,this.notesArray=i[this.baseFreq.toString()],this.updatePitch(this.baseFreq))},t.prototype.updatePitch=function(t){},t.prototype.updateNote=function(t){this.lastGoodNote=t},t.prototype.updateCents=function(t){},t.prototype.baseFreqChangeHandler=function(t){this.changeBaseFreq(t.data)},t}();e.PitchDetect=o},function(t,e){t.exports={432:[{note:"C2",frequency:64.22},{note:"D2",frequency:72.08},{note:"E2",frequency:80.91},{note:"F2",frequency:85.72},{note:"G2",frequency:96.22},{note:"A2",frequency:108},{note:"B2",frequency:121.23},{note:"C3",frequency:128.43},{note:"D3",frequency:144.16},{note:"E3",frequency:161.82},{note:"F3",frequency:171.44},{note:"G3",frequency:192.43},{note:"A3",frequency:216},{note:"B3",frequency:242.45},{note:"C4",frequency:256.87},{note:"D4",frequency:288.33},{note:"E4",frequency:323.63},{note:"F4",frequency:342.88},{note:"G4",frequency:384.87},{note:"A4",frequency:432}],434:[{note:"C2",frequency:64.51},{note:"D2",frequency:72.42},{note:"E2",frequency:81.28},{note:"F2",frequency:86.12},{note:"G2",frequency:96.66},{note:"A2",frequency:108.5},{note:"B2",frequency:121.79},{note:"C3",
frequency:129.03},{note:"D3",frequency:144.83},{note:"E3",frequency:162.57},{note:"F3",frequency:172.23},{note:"G3",frequency:193.32},{note:"A3",frequency:217},{note:"B3",frequency:243.57},{note:"C4",frequency:258.06},{note:"D4",frequency:289.66},{note:"E4",frequency:325.13},{note:"F4",frequency:344.47},{note:"G4",frequency:386.65},{note:"A4",frequency:434}],436:[{note:"C2",frequency:64.81},{note:"D2",frequency:72.75},{note:"E2",frequency:81.66},{note:"F2",frequency:86.51},{note:"G2",frequency:97.11},{note:"A2",frequency:109},{note:"B2",frequency:122.35},{note:"C3",frequency:129.62},{note:"D3",frequency:145.5},{note:"E3",frequency:163.32},{note:"F3",frequency:173.03},{note:"G3",frequency:194.22},{note:"A3",frequency:218},{note:"B3",frequency:244.7},{note:"C4",frequency:259.25},{note:"D4",frequency:290.99},{note:"E4",frequency:326.63},{note:"F4",frequency:346.05},{note:"G4",frequency:388.43},{note:"A4",frequency:436}],438:[{note:"C2",frequency:65.11},{note:"D2",frequency:73.08},{note:"E2",frequency:82.03},{note:"F2",frequency:86.91},{note:"G2",frequency:97.55},{note:"A2",frequency:109.5},{note:"B2",frequency:122.91},{note:"C3",frequency:130.22},{note:"D3",frequency:146.16},{note:"E3",frequency:164.06},{note:"F3",frequency:173.82},{note:"G3",frequency:195.11},{note:"A3",frequency:219},{note:"B3",frequency:245.82},{note:"C4",frequency:260.44},{note:"D4",frequency:292.33},{note:"E4",frequency:328.13},{note:"F4",frequency:347.64},{note:"G4",frequency:390.21},{note:"A4",frequency:438}],440:[{note:"C2",frequency:65.41},{note:"D2",frequency:73.42},{note:"E2",frequency:82.41},{note:"F2",frequency:87.31},{note:"G2",frequency:98},{note:"A2",frequency:110},{note:"B2",frequency:123.47},{note:"C3",frequency:130.81},{note:"D3",frequency:146.83},{note:"E3",frequency:164.81},{note:"F3",frequency:174.61},{note:"G3",frequency:196},{note:"A3",frequency:220},{note:"B3",frequency:246.94},{note:"C4",frequency:261.63},{note:"D4",frequency:293.66},{note:"E4",frequency:329.63},{note:"F4",frequency:349.23},{note:"G4",frequency:392},{note:"A4",frequency:440}],442:[{note:"C2",frequency:65.7},{note:"D2",frequency:73.75},{note:"E2",frequency:82.78},{note:"F2",frequency:87.7},{note:"G2",frequency:98.44},{note:"A2",frequency:110.5},{note:"B2",frequency:124.03},{note:"C3",frequency:131.41},{note:"D3",frequency:147.5},{note:"E3",frequency:165.56},{note:"F3",frequency:175.41},{note:"G3",frequency:196.89},{note:"A3",frequency:221},{note:"B3",frequency:248.06},{note:"C4",frequency:262.81},{note:"D4",frequency:295},{note:"E4",frequency:331.13},{note:"F4",frequency:350.82},{note:"G4",frequency:393.78},{note:"A4",frequency:442}],444:[{note:"C2",frequency:66},{note:"D2",frequency:74.08},{note:"E2",frequency:83.16},{note:"F2",frequency:88.1},{note:"G2",frequency:98.89},{note:"A2",frequency:111},{note:"B2",frequency:124.59},{note:"C3",frequency:132},{note:"D3",frequency:148.17},{note:"E3",frequency:166.31},{note:"F3",frequency:176.2},{note:"G3",frequency:197.78},{note:"A3",frequency:222},{note:"B3",frequency:249.19},{note:"C4",frequency:264},{note:"D4",frequency:296.33},{note:"E4",frequency:332.62},{note:"F4",frequency:352.4},{note:"G4",frequency:395.56},{note:"A4",frequency:444}],446:[{note:"C2",frequency:66.3},{note:"D2",frequency:74.42},{note:"E2",frequency:83.53},{note:"F2",frequency:88.5},{note:"G2",frequency:99.34},{note:"A2",frequency:111.5},{note:"B2",frequency:125.15},{note:"C3",frequency:132.6},{note:"D3",frequency:148.83},{note:"E3",frequency:167.06},{note:"F3",frequency:177},{note:"G3",frequency:198.67},{note:"A3",frequency:223},{note:"B3",frequency:250.31},{note:"C4",frequency:265.19},{note:"D4",frequency:297.67},{note:"E4",frequency:334.12},{note:"F4",frequency:353.99},{note:"G4",frequency:397.34},{note:"A4",frequency:446}]}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=function(t){function e(e){var n=e.game;return t.call(this,n,0,0,1280,800,"sky")||this}return i(e,t),e}(o.TileSprite);e.Sky=r;var a=function(t){function e(e){var n=e.game;return t.call(this,n,0,0,1280,800,"background")||this}return i(e,t),e.prototype.update=function(){this.tilePosition.x-=1},e}(o.TileSprite);e.Background=a;var s=function(t){function e(e){var n=e.game;return t.call(this,n,0,0,1280,800,"foreground")||this}return i(e,t),e.prototype.update=function(){this.tilePosition.x-=5},e}(o.TileSprite);e.Foreground=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.create=function(){var t=this;this.stage.backgroundColor="#000000";var e=this.add.text(this.world.centerX,this.world.centerY-50,"GAME OVER",{font:"48px Arial",fill:"#ff0000",align:"center"});e.anchor.setTo(.5,.5);var n=this.add.text(this.world.centerX,this.world.centerY+20,{font:"24px Arial",fill:"#ffffff",align:"center"});n.anchor.setTo(.5,.5);var i=this.add.text(this.world.centerX,this.world.centerY+60,{font:"18px Arial",fill:"#cccccc",align:"center"});i.anchor.setTo(.5,.5),this.input.keyboard.addKey(o.Keyboard.SPACEBAR).onDown.add(function(){t.game.state.start("Game")}),this.input.keyboard.addKey(o.Keyboard.ESC).onDown.add(function(){window.close()}),this.input.onDown.add(function(){t.game.state.start("Game")})},e}(o.State);e.GameOverState=r}]);